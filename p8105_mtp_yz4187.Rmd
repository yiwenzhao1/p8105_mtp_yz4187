---
title: "p8105_mtp_yz4187"
author: "Yiwen Zhao"
date: "10/29/2021"
output: github_document
---

```{r, echo=FALSE, message=FALSE}
library(tidyverse)
library(readxl)
library(dplyr)
```
### Introduction ###
This project will use the correction data used in the report describing the relationship between posture and "enlarged protuberances" among young people which published in 2018 Nature Scientific Reports and try to find out a new analysis on the relationship through the new correction data.

### Problem 1 - Data ###
```{r}
df = read_excel("p8105_mtp_data.xlsx", range = "A9:I1230") %>%
  janitor::clean_names()
df$eop_size_mm[is.na(df$eop_size_mm)] = 0
df$eop_shape[is.na(df$eop_shape)] = mean(df$eop_shape,na.rm = TRUE)
df$fhp_size_mm[is.na(df$fhp_size_mm)] = mean(df$fhp_size_mm,na.rm = TRUE)
sum(is.na(df))

df %>%
  mutate(sex = ifelse(sex == 0,"female", "male"),
         eop_detected = ifelse(eop_size_mm == 0, "0","1")) %>%
  select(sex, age_group, eop_size, fhp_category, eop_detected) %>%
  group_by(sex) %>%
  summarise(n = n()) %>%
  arrange(desc(n)) %>%
  knitr::kable()

df %>%
  mutate(sex = ifelse(sex == 0,"female", "male"),
         eop_detected = ifelse(eop_size_mm == 0, "0","1")) %>%
  select(sex, age_group, eop_size, fhp_category, eop_detected) %>%
  group_by(age_group) %>%
  summarise(n = n()) %>%
  arrange(desc(n)) %>%
  knitr::kable()
```
**Description: ** The data cleaning process starts with replacing all the na with either a zero (since the missing eop_size(mm) in the dataset is 0) or the mean value (since the mean value will not affect the results of following calculations). The key variables are sex, age_group, eop_size, fhp_category. One categorical variable "eop_detected" has been added to the data table to define whether the eop is detected. There are 1221 participants in total, and there are 614 females and 607 males. The the most participantsare in the 18-30 age group, and 914 participants are under 60.




```{r, message=FALSE}
wordcountaddin::text_stats("p8105_mtp_yz4187.Rmd")
```

